
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.2.4
  creationTimestamp: null
  name: harbors.goharbor.io
spec:
  additionalPrinterColumns:
  - JSONPath: .spec.version
    description: The semver Harbor version
    name: Version
    priority: 5
    type: string
  - JSONPath: .spec.publicURL
    description: The public URL to the Harbor application
    name: Public URL
    type: string
  group: goharbor.io
  names:
    kind: Harbor
    listKind: HarborList
    plural: harbors
    shortNames:
    - h
    singular: harbor
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      description: Harbor is the Schema for the harbors API
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: HarborSpec defines the desired state of Harbor
          properties:
            adminPasswordSecret:
              description: The name of the secret containing the password for root
                user
              type: string
            certificateIssuerRef:
              description: The issuer for Harbor certificates. If the 'kind' field
                is not set, or set to 'Issuer', an Issuer resource with the given
                name in the same namespace as the Certificate will be used. If the
                'kind' field is set to 'ClusterIssuer', a ClusterIssuer with the provided
                name will be used. The 'name' field in this stanza is required at
                all times.
              properties:
                group:
                  type: string
                kind:
                  type: string
                name:
                  type: string
              required:
              - name
              type: object
            components:
              properties:
                chartMuseum:
                  type: object
                clair:
                  properties:
                    adapter:
                      properties:
                        redisSecret:
                          type: string
                      required:
                      - redisSecret
                      type: object
                    vulnerabilitySources:
                      items:
                        type: string
                      minItems: 1
                      type: array
                  required:
                  - adapter
                  - vulnerabilitySources
                  type: object
                core:
                  properties:
                    databaseSecret:
                      type: string
                  required:
                  - databaseSecret
                  type: object
                jobService:
                  properties:
                    coreSecret:
                      type: string
                    redisSecret:
                      type: string
                    webHookMaxRetry:
                      format: int32
                      minimum: 0
                      type: integer
                    workerCount:
                      format: int32
                      minimum: 1
                      type: integer
                  required:
                  - coreSecret
                  - redisSecret
                  - webHookMaxRetry
                  - workerCount
                  type: object
                notaryServer:
                  properties:
                    publicURL:
                      description: The url exposed to clients to access notary
                      pattern: ^https?://.*$
                      type: string
                  required:
                  - publicURL
                  type: object
                notarySigner:
                  properties:
                    commonName:
                      description: CommonName is a common name to be used on the Certificate.
                        The CommonName should have a length of 64 characters or fewer
                        to avoid generating invalid CSRs.
                      maxLength: 64
                      type: string
                    keySize:
                      description: KeySize is the key bit size of the corresponding
                        private key for this certificate.
                      maximum: 8192
                      minimum: 2048
                      type: integer
                    organization:
                      description: 'Organization is the organization to be used on
                        the Certificate This cannot be set to true: https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/#validation'
                      items:
                        type: string
                      minItems: 1
                      type: array
                  type: object
                portal:
                  type: object
                registry:
                  type: object
                registryController:
                  type: object
              required:
              - chartMuseum
              - clair
              - core
              - jobService
              - notaryServer
              - notarySigner
              - portal
              - registry
              - registryController
              type: object
            paused:
              description: Indicates that the harbor is paused.
              type: boolean
            priority:
              description: The Maximum priority. Deployments may be created with priority
                in interval ] priority - 100 ; priority ]
              format: int32
              type: integer
            publicURL:
              description: The url exposed to clients to access harbor
              pattern: ^https?://.*$
              type: string
            readOnly:
              description: The option to set repository read only.
              type: boolean
            tlsSecretName:
              description: The name of the secret containing the TLS secret used for
                ingresses
              type: string
            version:
              description: The Harbor semver version https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string
              pattern: ^(?P<major>0|[1-9]\d*)\.(?P<minor>0|[1-9]\d*)\.(?P<patch>0|[1-9]\d*)(?:-(?P<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?P<buildmetadata>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$
              type: string
          required:
          - adminPasswordSecret
          - certificateIssuerRef
          - publicURL
          - tlsSecretName
          - version
          type: object
        status:
          description: Most recently observed status of the Harbor.
          properties:
            conditions:
              description: Conditions list of extracted conditions from Resource
              items:
                description: Condition defines the general format for conditions on
                  Kubernetes resources. In practice, each kubernetes resource defines
                  their own format for conditions, but most (maybe all) follows this
                  structure.
                properties:
                  message:
                    description: Message Human readable reason string
                    type: string
                  reason:
                    description: Reason one work CamelCase reason
                    type: string
                  status:
                    description: Status String that describes the condition status
                    type: string
                  type:
                    description: Type condition type
                    type: string
                required:
                - message
                - reason
                - status
                - type
                type: object
              type: array
            message:
              description: Message
              type: string
            observedGeneration:
              format: int64
              type: integer
            status:
              description: Status
              type: string
          required:
          - conditions
          - message
          - status
          type: object
      type: object
  version: v1alpha2
  versions:
  - name: v1alpha2
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
